# Writeup 3 - Operational Security and Social Engineering

Name: Christopher Lai
Section: 0101

I pledge on my honor that I have not given or received any unauthorized assistance on this assignment or examniation.

Digital acknowledgement: Christopher Lai

## Assignment Writeup

### Part 1 (40 pts)

The 1337bank.money server is vulnerable to arbitrary command injection, so it'll execute any command I give it after the first parameter.  For instance, I can list the contents of the root directory by typing in ```8.8.8.8; ls```.  In order to launch a shell, I did ```8.8.8.8; /bin/bash```, then cd into the home directory, and then cat the ```flag.txt``` file.  The shell did not have a prompt or show error messages, but it worked well enough to let me navigate around.

Flag: ```CMSC389R-{d1gging_f0r_flag5_thr0ugh_1njec7ion}```

In order to protect against this vulnerability, Fred could sanitize input to make sure the user is inputting in a valid ip address or domain.  He could also whitelist special characters such as ```;``` or ```&``` so the command injection could not be used.

### Part 2 (60 pts)

My program can be run using ```python3 shell.py```.  This program launches an interactive shell that the user can use to interact with the server and remotely pull files.  In order to interact with the server, I send commands one by one.  This is pretty straighforward with the command injection, but I had to first redirect the Dig command output using ```/dev/null 2>&1```.  Another tricky thing was to keep my current directory, since I was starting a new connection each time.  I solved this by simply keeping track of a variable containing the current path, and anytime the user ran `cd`, I would simply run pwd after and store that output as the new path.  For the ```pull``` command, I first ran ```ls <remote-path>``` to make sure the file existed, and then ```cat```'d it and then wrote it to the ```<local-file>```.   
